package warehouse;

import java.util.Map;
import java.util.concurrent.ConcurrentHashMap;

public class WareHouse {
	private static final int STARTING_QUANTITY = 15;
	private static final int MIN_QUANTITY = 10;
	
	private Map<Product, Integer> products = new ConcurrentHashMap<Product, Integer>();
	
	public WareHouse() {
		for(String productName : new String[]{"Banan", "Orange", "Apple"}){
			products.put(new Product(productName), STARTING_QUANTITY);
		}
		for(String productName : new String[]{"Potato", "Eggplant","Cucumber"}){
			products.put(new Product(productName), STARTING_QUANTITY);
		}
		
		for(String productName : new String[]{"Pork", "Beef","Chicken"}){
			products.put(new Product(productName), STARTING_QUANTITY);
		}
	}
	
	public void addProduct(Product product, int quantity) throws WareHouseException{
		if(product != null && quantity > 0 && products.containsKey(product)){
			int amount = products.get(product);
			amount += quantity;
			products.put(product, amount);
		}else{
			throw new WareHouseException("Can't accept that product.");
		}
	}

}
