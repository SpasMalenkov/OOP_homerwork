package homework_abstraction;

public class AllWork {
	
	private static final int MAX_PLACES_FOR_TASKS = 10;
	private Task[] tasks;
	private int freePlacesForTasks;
	private static int currentUnassignedTask = 0;
	
	public AllWork(){
		setTasks(new Task[MAX_PLACES_FOR_TASKS]);
		freePlacesForTasks = MAX_PLACES_FOR_TASKS;
	}
	
	public void addTask(Task task){
		int i = MAX_PLACES_FOR_TASKS - freePlacesForTasks;
		if(freePlacesForTasks > 0 && getTasks()[i] == null){
			getTasks()[i] = task;
			freePlacesForTasks -= 1;
		}else{
			System.out.println("There is no free places for tasks.");
		}
	}

	public Task getNextTask(){
		if(getTasks()[currentUnassignedTask].freeTask == true){
			return getTasks()[currentUnassignedTask];
		}
		else if(getTasks()[currentUnassignedTask].freeTask == false){
			currentUnassignedTask++;
		}
		else if(currentUnassignedTask == MAX_PLACES_FOR_TASKS){
			getTasks()[currentUnassignedTask] = null;
		}
		return getTasks()[currentUnassignedTask];
	}
	
	public boolean isAllWorkDone(){
		int count = 0;
		for(int i = 0; i < MAX_PLACES_FOR_TASKS; i++){
			if(getTasks()[i].getWorkingHoursToFinishTheTask() == 0){
				count++;
			}else{
				count--;
			}
		}
		if(count == MAX_PLACES_FOR_TASKS){
			return true;
		}else{
			return false;
		}
	}

	public Task[] getTasks() {
		return tasks;
	}

	public void setTasks(Task[] tasks) {
		this.tasks = tasks;
	}
	
	
	
}
