package test.task.vignette;

import java.util.Random;

public class DemoProgram {

	public static void main(String[] args) {
		
		Driver driver1 = new Driver();
		
		GasStation omv = new GasStation("OMV");
		
//		omv.printVignette();
		
		Driver[] drivers = new Driver[20];
		
		createDrivers(drivers);
		
		Venchile[] venchiles = new Venchile[200];
		
		createVenchiles(venchiles);
		
//		for(int i = 0; i < drivers.length; i++){
//			System.out.println(drivers[i].getName() + " "+ drivers[i].getMoney());
//		}
		
//		displayInfo(venchiles);
		
		addVenchiles(drivers, venchiles);
		
		displayVenchiles(drivers[0]);
		
	}
	
	
	private static void displayVenchiles(Driver driver) {
		driver.printVenchiles();
	}


	static void addVenchiles(Driver[] drivers, Venchile[] venchiles){
		int firstIndex = 0;
		int lastIndex = 19;
		for(int i = 0; i < drivers.length; i++){
			for(int j = firstIndex; j <= lastIndex; j++){
				drivers[i].addVenchiles(venchiles[j]);
			}
			firstIndex += 20;
			lastIndex += 20;
		}
		
	}
	
	static void displayInfo(Venchile[] venchiles){
		for(Venchile v : venchiles){
			if(v != null){
				Class<? extends Venchile> c = v.getClass();
				if(c.equals(Car.class)){
					System.out.println(v.getModel() + " " + v.getYear());
				}else if(c.equals(Truck.class)){
					System.out.println(v.getModel() + " " + v.getYear());
				}else if(c.equals(Autobus.class)){
					System.out.println(v.getModel() + " " + v.getYear());
				}
				
			}
		}
	}
	
	private static void createVenchiles(Venchile[] venchiles) {
		int index = 0;
		for(int i = 0; i < venchiles.length; i++){
			if(i % 3 == 0){
				index = i;
			}
			if(i - index == 0){
				venchiles[i] = new Car("Car" + i, (int)(Math.random() * (2015 - 1970) + 1970));	
			}else if(i - index == 1){
				venchiles[i] = new Truck("Truck" + i, (int)(Math.random() * (2015 - 1970) + 1970));
			}else if(i - index == 2){
				venchiles[i] = new Autobus("Autobus" + i, (int)(Math.random() * (2015 - 1970) + 1970));
			}
		}
	}

	static void createDrivers(Driver[] drivers){
		for(int i = 0; i < drivers.length; i++){
			drivers[i] = new Driver();
			drivers[i].setMoney((int)(Math.random() * (1000 - 10) + 10));
			drivers[i].setName("Driver" + i);
		}
	}
	
	
	static void getClassVenchile(Venchile[] venchile){
		Class<? extends Venchile[]> c = venchile.getClass();
		if(c.equals(Car.class)){
			System.out.println(venchile.getClass().getSimpleName());
		}
	}
	
	
	
}
